### 교착 상태 해결 방법

- 예방, 회피, 검출, 회복으로 교착상태를 해결 해보자!

#### 교착 상태 예방

- 교착상태 발생 필요 조건 4가지중 (상호 배제, 점유와 대기, 비선점, 원형대기) 하나를 충족 하지 못하게 하는 방법.

1. 상호 배제 없애기

   - 모든 자원을 공유 가능하게 만들기.
     (이론적으로는 좋지만, 현실적으로는 사용하기에는 무리가 있다.)

2. 점유와 대기 없애기

   - 운영체제는 프로세스에 자원을 모두 할당하거나, 그렇지않다면 아예 할당하지 않는 방식으로 한다.
     (자원의 활용도가 낮아질 수 있기때문에 기아현상 우려)

3. 비선점 조건 없애기

   - 자원을 이용중인 다른 프로세스의 자원을 빼앗을 수 있다.
     (일부 자원에 한해서는 괜찮지만 예를들어 프린터 같은 자원은 중간에 빼앗으면 예상치 못한 결과가 일어날 수 있다.)

4. 원형 대기 조건 없애기
   - 모든 자원에 번호를 붙이고 오름차순으로 자원을 할당한다.
     (식사하는 철학자에서 모든 포크에 1번부터 5번까지 번호를 붙이고, 철학자들이 번호가 낮은 포크순으로 집게 하면 원형대기는 일어나지 않는다.)
   - 가장 현실적이지만, 모든 컴퓨터 시스템내에 존재하는 수많은 자원에 번호를 붙이는 일은 간단하지 않고, 각 자원에 번호를 붙이는지에 따라 특정 자원의 활용률이 떨어질 수 있다.

#### 교착 상태 회피

- 교착상태가 발생하지 않을 정도로만 조심 조심 자원을 할당하는 방식.
  프로세스들에 배분할 수 있는 자원의 양을 고려하여 교착 상태가 발생하지 않을 정도의 양만큼만 자원을 배분하는 방식.
- 모든 프로세스가 정상적으로 자원을 할당받고 종료될 수 있는 상태를 "안전 상태" 라고 하고,
  교착 상태가 발생할 수도 있는 상황을 "불안전 상태" 라고 한다.

#### 교착 상태 검출 후 회복

- 교착 상태 발생을 인정하고 사후에 조치하는 방법이다.

1. 선점을 통한 회복

   - 교착 상태가 해결될 때까지 한 프로세스씩 자원을 몰아주는 방식.
     즉, 교착 상태가 해결될 때까지 다른 프로세스로부터 자원을 강제로 빼앗고 한 프로세스에 할당하는 방식.

2. 프로세스 강제 종료를 통한 회복
   - 교착 상태에 놓인 프로세스를 모두 종료하거나, 교착 상태가 없어질 때까지 한 프로세스씩 강제종료할 수도 있다.
