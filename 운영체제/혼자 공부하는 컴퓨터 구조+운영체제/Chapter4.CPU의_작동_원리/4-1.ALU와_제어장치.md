### 4-1. ALU와 제어장치

- ALU

  - ALU는 계산하는 부품이다. (피연산자 + 연산자를 수행)

  - 레지스터를 통해 피연산자를 받아들이고, 제어장치로부터 수행할 연산을 알려주는 제어 신호를 받아들인다.
    그다음 연산 후에 일시적으로 레지스터에 저장한다.(ALU가 메모리에 저장하면 CPU는 메모리에 접근을 많이하게되고 실행속도가 느려짐.)

  - 플래그
    - ALU는 결과값 뿐만아니라 연산 결과에 대한 추가적인 정보를 보내야할 때가 있음. 그것이 이 플래그다. 이 플래그는 "플래그 레지스터"에 저장된다.
    - 계산한 값의 결과가 음수 라는 추가정보를 보내거나, 혹은 연산결과가 연산결과를 담을 레지스터보다 클때 (오버플로우) '결과값이 너무 크다' 라는 추가 정보를 보낸다.
    - 종류
      - 부호 플래그 : 연산한 결과의 부호를 나타낸다. ex) 부호 플래그가 1일 경우 계산 결과는 음수, 0일경우 계산 결과는 양수
      - 제로 플래그 : 연산 결과가 0인지 여부를 나타냄. ex) 제로 플래그가 1일경우 연산 결과는 0, 0일경우 연산 결과는 0이 아니다.
      - 캐리 플래그 : 연산 결과 올림수나 빌림수가 발생했는지 나타냄. ex) 캐리 플래그가 1일경우 올림수나 빌림수가 발생함, 0일경우 발생안함.
      - 오버플로우 플래그 : 오버플로우가 발생했는지 나타냄.
      - 인터럽트 플래그 : 인터럽트가 가능한지를 나타냄.
      - 슈퍼바이저 플래그 : 커널모드로 실행중인지, 사용자모드로 실행중인지 나타냄.

- 제어장치

  - 제어신호를 보내고, 명령어를 해석하는 부품이다. 제어신호는 컴퓨터 부품을 관리하고 작동시키기 위한 일종의 전기 신호이다.

  - 제어장치가 받아들이는 정보

    1. 클럭 신호를 받아들인다.

    - 클럭이란 컴퓨터의 모든 부품을 일사분란하게 움직일 수 있게 하는 시간 단위.
    - 클럭의 똑-딱-똑-딱 주기에 맞춰 동작이 수행된다. (레지스터에서 다른 레지스터로 데이터 이동, ALU에서 연산이 수행, CPU가 메모리에 저장된 명령어를 읽어들임, 등등...)
    - 주의) 컴퓨터의 모든 부품이 한클럭마다 작동하지는 않음. 여러 클럭에 걸쳐 하나의 명령어가 실행될 수 있다.

    2. 해석해야 할 명령어를 받아들인다.

    - CPU가 해석해야 할 명령어는 "명령어 레지스터"라는 특별한 레지스터에 저장되는데,
      이 명령어 레지스터로부터 명령어를 받아들이고 해석한 뒤, 제어 신호를 발생시킨다.

    3. 플래그 레지스터속 플래그값을 받아들인다.

    - 제어장치가 플래그 값의 참고사항을 받아들이고 이것을 참고하여 제어신호를 발생시킨다.

    4. 시스템버스, 그중에서 제어 버스로 전달된 제어 신호를 받아들인다.

    - 제어신호는 CPU뿐만 아니라 외부장치에도 발생시킬 수 있다.
      즉, 제어장치는 제어 버스를 통해 외부로부터 전달된 제어 신호를 받아들이기도 한다.

  - 제어장치가 내보내는 정보

    1. CPU 외부에 전달하는 제어신호

    - 제어 버스로 제어 신호를 보낸다. (메모리에 전달하는 제어 신호, 입출력장치에 전달하는 제어 신호)
    - 제어장치가 메모리에 저장된 값을 읽거나, 메모리에 새로운 값을 쓰고 싶다면 메모리로 제어 신호를 내보낸다.
    - 제어장치가 입출력장치에 새로운 값을 쓰고 싶을때는 입출력장치로 제어 신호를 내보낸다.

    2. CPU 내부에 전달하는 제어신호

    - CPU내에서 제어신호를 내보냄. (ALU에 전달하는 제어신호, 레지스터에 전달하는 제어 신호)
    - ALU에 수행할 연산을 지시하기 위해 제어신호를 내보낸다.
    - 레지스터에는 레지스터 간에 데이터를 이동하거나, 레지스터에 저장된 명령어를 해석하기 위해 제어 신호를 내보낸다.
