### 동기화 기법

- 프로세스 동기화중 어떻게해야 임계 구역에 하나의 프로세스만 들어오고, 올바른 실행 순서를 보장할 수 있을까?
  이를 위한 방법이다.

#### 뮤텍스 락

- 옷가게의 탈의실을 생각하자. 탈의실안에 사람이있다면 문잠금이 걸려있을것이다.
  여기서 이 문잠금을 하는게 뮤테스 락이다.
  즉, 뮤텍스락은 상호 배제를 위한 동기화 도구다.

- 뮤테스락 구현 방법

  - 자물쇠 역활: 프로세스들이 공유하는 전역 변수 lock
  - 임계 구역을 잠그는 역할: acquire 함수
  - 임계 구역의 잠금을 해제하는 역할: release 함수

- 순서
  1. 프로세스가 임계구역에 진입하기 전에 acquire함수로 해당 임계구역이 잠겼는지 확인한다.
     임계구역이 잠겨있다면 임계구역의 lock이 false가 될 때까지 반복적으로 확인한다.
  2. 임계구역의 lock이 false가 되면 프로세스가 진입하고 acquire함수로 lock을 true로 변경
  3. 프로세스의 작업이 끝나고 release함수로 임계구역의 lock을 false한다.

#### 세마포

- 뮤텍스 락과 비슷하지만, 조금 더 일반화된 방식의 동기화 도구이다.
  뮤텍스 락은 탈의실이 한개만있었지만 세마포는 여러개의 탈의실이 있는 경우이다.
  이처럼 세마포는 공유 자원이 여러 개 있는 상황에서도 적용이 가능한 동기화 도구이다.

- 세마포 구현 방법

  - 임계 구역에 진입할 수 있는 프로세스의 개수를 나타내는 전역 변수 S
  - 임계 구역에 들어가도 좋은지, 기다려야 할지를 알려주는 wait 함수
  - 임계 구역 앞에서 기다리는 프로세스에 '이제 가도 좋다'고 신호를 주는 signal함수

- 순서
  - ex) 공유 자원이 2개 (S = 2) 이고, 프로세스는 3개일때 순서
  1. 프로세스 P1 wait을 호출, S를 1 감소하고 임계 구역 진입(S = 1)
  2. 프로세스 P2 wait을 호출, S를 1 감소하고 임계 구역 진입(S = 0)
  3. 프로세스 p3 wait을 호출, S를 1 감소시키고 S는 -1 이므로 해당 프로세스의 PCB를 대기 큐에 넣고 대기상태로 전환
  4. 프로세스 P1 작업 종료, signal호출, S를 1 증가하여 S는 0 이므로 대기상태였던 P3를 대기큐에서 준비큐로 옮김.
  5. P3가 임계 구역 진입.
  6. P2 임계 구역 작업종료, signal() 로출, S가 1증가 (S = 1)
  7. P3 임계 구역 작업종료, signal() 로출, S가 1증가 (S = 2)

#### 모니터
